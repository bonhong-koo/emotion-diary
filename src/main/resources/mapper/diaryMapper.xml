<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.koo.emotion_diary.mapper.DiaryMapper"> <!-- namespace: 매퍼 인터페이스 전체 경로 -->
<!-- 일기 작성 -->
<insert id="createDiary" parameterType="DiaryDTO">
  INSERT INTO diary(
    id, 
    emotion, 
    title, 
    content,
    date
    ) VALUES(
      #{id},
      #{emotion},
      #{title},
      #{content},
      #{date}
    )
</insert>

<!-- 일기 목록 조회 -->
<select id="diaryList" parameterType="String" resultType="DiaryDTO">
  SELECT * FROM diary
  WHERE id = #{id}
</select>

<!-- 일기 단건 조회 -->
<select id="selectDiary" parameterType="java.lang.Integer" resultType="DiaryDTO">
  SELECT * FROM diary
  WHERE no = #{no}
</select>

<!-- 일기 수정 -->
<update id="updateDiary" parameterType="DiaryDTO">
  UPDATE diary
  SET 
    emotion = #{emotion},
    title = #{title},
    content = #{content},
    date = #{date}
  
</update>

<!-- 일기 삭제 -->
<delete id="deleteDiary" parameterType="java.lang.Integer">
  DELETE FROM diary
  WHERE no = #{no}
</delete>

<!-- 전체 삭제 -->
<delete id="deleteAll">
  DELETE FROM diary
</delete>

<!-- 전체 일기 수 조회 -->
<select id="getAll">
  SELECT COUNT(*) FROM diary
</select>

<!-- 일기 no 조회 test용 -->
<select id="getNo" parameterType="String" resultType="java.lang.Integer">
  SELECT no FROM diary
  WHERE id = #{id}
</select>



</mapper>