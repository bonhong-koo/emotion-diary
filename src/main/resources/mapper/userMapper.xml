<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.koo.emotion_diary.mapper.UserMapper"> <!-- namespace: 매퍼 인터페이스 전체 경로 -->

<!-- 회원가입 -->
<insert id="createUser" parameterType="UserDTO">
  INSERT INTO user (
      id,
      password,
      name
  ) VALUES(
      #{id},
      #{password},
      #{name}
  )
</insert>

<!-- 로그인 확인 -->
<select id="loginUser" parameterType="UserDTO" resultType="java.lang.Integer">
  SELECT COUNT(*) FROM user
  WHERE id = #{id}
  AND password = #{password}
</select>

<!-- 아이디 중복 확인 -->
<select id="checkId" parameterType="UserDTO" resultType="java.lang.Integer">
  SELECT COUNT(*) FROM user
  WHERE id = #{id}
</select>
<!-- 회원 삭제 -->
<delete id="deleteUser">
  DELETE FROM user
  WHERE id = #{id}
</delete>

<!-- 전체 삭제 -->
<delete id="deleteAll">
  DELETE FROM user
</delete>
<!-- 전체 회원 수 조회 -->
<select id="getCount" resultType="java.lang.Integer">
  SELECT COUNT(*) FROM user
</select>

<!-- 회원 조회 -->
<select id="selectUser" parameterType="String" resultType="UserDTO">
  SELECT * FROM user
  WHERE id = #{id}
</select>
</mapper>